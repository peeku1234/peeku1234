@Test
void authenticate_whenCorporateUserButProfileNotFound_shouldReturnNull() {
    UserProfile userProfile = new UserProfile("userId", "userName", 
        UserRole.CORPORATE.getValue(), "corporateId", 1, "branchCode");
        
    Mockito.when(frameworkUtils.getAttribute(any(), anyString())).thenReturn(Optional.of("testUser"));
    Mockito.when(cacheManager.getSession(anyString())).thenReturn(null);
    Mockito.when(userDAO.getUserProfile(anyString())).thenReturn(Optional.of(userProfile));
    Mockito.when(corporateDAO.getCorporateProfile(anyString())).thenReturn(null);
    
    Authentication result = webAuthenticationProvider.authenticate(request);
    assertNull(result);
}
